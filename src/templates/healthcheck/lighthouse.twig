{% extends '_layouts/cp' %}
{% import '_includes/forms' as forms %}

{% block actionButton %}
	<div
		class="buttons">
		<!-- Device Selector -->
		<div class="select">
			<select id="device-selector">
				<option value="desktop">{{ 'Desktop'|t('upsnap') }}</option>
				<option value="mobile">{{ 'Mobile'|t('upsnap') }}</option>
			</select>
		</div>
		<button type="button" class="btn submit" data-icon="refresh" id="refresh-btn">
			{{ 'Refresh'|t('upsnap') }}
		</button>
	</div>
{% endblock %}


{% block content %}
	{% set statusClass = data.status == 'ok' ? 'success' : (data.status == 'error' ? 'error' : 'warning') %}
	{% set containerClass = data.status == 'ok' ? '' : (data.status == 'error' ? 'error' : 'warning') %}


	{% include 'upsnap/_components/status-container.twig' %}
	{% include 'upsnap/_components/details-container.twig' %}


	<div id="lighthouse-data" style="display: none;">
		{{ data|json_encode|raw }}
	</div>

	<!-- Scores Overview -->
	<div
		class="scores-overview" id="scores-container"><!-- Scores will be populated by JavaScript -->
	</div>

	<!-- Performance Metrics -->
	<div
		class="performance-section" id="performance-container"><!-- Performance metrics will be populated by JavaScript -->
	</div>

	<!-- Loading Overlay -->
	<div class="loading-overlay" id="loading-overlay">
		<div class="loading-spinner"></div>
	</div>
{% endblock %}
